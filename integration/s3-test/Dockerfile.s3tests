FROM python:3.13-slim

WORKDIR /s3-tests
COPY s3-tests/requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY s3-tests/ .
COPY s3tests.conf /s3tests.conf

ENV S3TEST_CONF=/s3tests.conf

ENTRYPOINT ["pytest", "-v", "--tb=short", "s3tests/functional/test_s3.py"]
